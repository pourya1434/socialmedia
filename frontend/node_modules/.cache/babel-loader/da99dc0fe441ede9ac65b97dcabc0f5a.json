{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction useUserActions() {\n  _s();\n\n  const navigate = useNavigate();\n  const baseURL = \"http://localhost:8000/api\";\n  return {\n    login,\n    register,\n    logout\n  }; // Login the user\n\n  function login(data) {\n    return axios.post(`${baseURL}/auth/login/`, data).then(res => {\n      // Registering the account and tokens in the store\n      setUserData(res.data);\n      navigate(\"/\");\n    });\n  } // Register the user\n\n\n  function register(data) {\n    return axios.post(`${baseURL}/auth/register/`, data).then(res => {\n      // Registering the account and tokens in the store\n      setUserData(res.data);\n      navigate(\"/\");\n    });\n  } // Logout the user\n\n\n  function logout() {\n    localStorage.removeItem(\"auth\");\n    navigate(\"/login\");\n  }\n} // Get the user\n\n\n_s(useUserActions, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\nfunction getUser() {\n  const auth = JSON.parse(localStorage.getItem(\"auth\")) || null;\n\n  if (auth) {\n    return auth.user;\n  } else {\n    return null;\n  }\n} // Get the access token\n\n\nfunction getAccessToken() {\n  const auth = JSON.parse(localStorage.getItem(\"auth\"));\n  return auth.access;\n} // Get the refresh token\n\n\nfunction getRefreshToken() {\n  const auth = JSON.parse(localStorage.getItem(\"auth\"));\n  return auth.refresh;\n} // Set the access, token and user property\n\n\nfunction setUserData(data) {\n  localStorage.setItem(\"auth\", JSON.stringify({\n    access: data.access,\n    refresh: data.refresh,\n    user: data.user\n  }));\n}\n\nexport { useUserActions, getUser, getAccessToken, getRefreshToken };","map":{"version":3,"names":["axios","useNavigate","useUserActions","navigate","baseURL","login","register","logout","data","post","then","res","setUserData","localStorage","removeItem","getUser","auth","JSON","parse","getItem","user","getAccessToken","access","getRefreshToken","refresh","setItem","stringify"],"sources":["/home/pourya/codes/socialmedia/frontend/src/hooks/user.actions.js"],"sourcesContent":["import axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction useUserActions() {\n  const navigate = useNavigate();\n  const baseURL = \"http://localhost:8000/api\";\n\n  return {\n    login,\n    register,\n    logout,\n  };\n\n  // Login the user\n  function login(data) {\n    return axios.post(`${baseURL}/auth/login/`, data).then((res) => {\n      // Registering the account and tokens in the store\n      setUserData(res.data);\n      navigate(\"/\");\n    });\n  }\n\n  // Register the user\n  function register(data) {\n    return axios.post(`${baseURL}/auth/register/`, data).then((res) => {\n      // Registering the account and tokens in the store\n      setUserData(res.data);\n      navigate(\"/\");\n    });\n  }\n\n  // Logout the user\n  function logout() {\n    localStorage.removeItem(\"auth\");\n    navigate(\"/login\");\n  }\n}\n\n// Get the user\nfunction getUser() {\n  const auth = JSON.parse(localStorage.getItem(\"auth\")) || null;\n  if (auth) {\n    return auth.user;\n  } else {\n    return null;\n  }\n}\n\n// Get the access token\nfunction getAccessToken() {\n  const auth = JSON.parse(localStorage.getItem(\"auth\"));\n  return auth.access;\n}\n\n// Get the refresh token\nfunction getRefreshToken() {\n  const auth = JSON.parse(localStorage.getItem(\"auth\"));\n  return auth.refresh;\n}\n\n// Set the access, token and user property\nfunction setUserData(data) {\n  localStorage.setItem(\n    \"auth\",\n    JSON.stringify({\n      access: data.access,\n      refresh: data.refresh,\n      user: data.user,\n    })\n  );\n}\n\nexport { useUserActions, getUser, getAccessToken, getRefreshToken };\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AAEA,SAASC,cAAT,GAA0B;EAAA;;EACxB,MAAMC,QAAQ,GAAGF,WAAW,EAA5B;EACA,MAAMG,OAAO,GAAG,2BAAhB;EAEA,OAAO;IACLC,KADK;IAELC,QAFK;IAGLC;EAHK,CAAP,CAJwB,CAUxB;;EACA,SAASF,KAAT,CAAeG,IAAf,EAAqB;IACnB,OAAOR,KAAK,CAACS,IAAN,CAAY,GAAEL,OAAQ,cAAtB,EAAqCI,IAArC,EAA2CE,IAA3C,CAAiDC,GAAD,IAAS;MAC9D;MACAC,WAAW,CAACD,GAAG,CAACH,IAAL,CAAX;MACAL,QAAQ,CAAC,GAAD,CAAR;IACD,CAJM,CAAP;EAKD,CAjBuB,CAmBxB;;;EACA,SAASG,QAAT,CAAkBE,IAAlB,EAAwB;IACtB,OAAOR,KAAK,CAACS,IAAN,CAAY,GAAEL,OAAQ,iBAAtB,EAAwCI,IAAxC,EAA8CE,IAA9C,CAAoDC,GAAD,IAAS;MACjE;MACAC,WAAW,CAACD,GAAG,CAACH,IAAL,CAAX;MACAL,QAAQ,CAAC,GAAD,CAAR;IACD,CAJM,CAAP;EAKD,CA1BuB,CA4BxB;;;EACA,SAASI,MAAT,GAAkB;IAChBM,YAAY,CAACC,UAAb,CAAwB,MAAxB;IACAX,QAAQ,CAAC,QAAD,CAAR;EACD;AACF,C,CAED;;;GAnCSD,c;UACUD,W;;;AAmCnB,SAASc,OAAT,GAAmB;EACjB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,MAArB,CAAX,KAA4C,IAAzD;;EACA,IAAIH,IAAJ,EAAU;IACR,OAAOA,IAAI,CAACI,IAAZ;EACD,CAFD,MAEO;IACL,OAAO,IAAP;EACD;AACF,C,CAED;;;AACA,SAASC,cAAT,GAA0B;EACxB,MAAML,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,MAArB,CAAX,CAAb;EACA,OAAOH,IAAI,CAACM,MAAZ;AACD,C,CAED;;;AACA,SAASC,eAAT,GAA2B;EACzB,MAAMP,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,MAArB,CAAX,CAAb;EACA,OAAOH,IAAI,CAACQ,OAAZ;AACD,C,CAED;;;AACA,SAASZ,WAAT,CAAqBJ,IAArB,EAA2B;EACzBK,YAAY,CAACY,OAAb,CACE,MADF,EAEER,IAAI,CAACS,SAAL,CAAe;IACbJ,MAAM,EAAEd,IAAI,CAACc,MADA;IAEbE,OAAO,EAAEhB,IAAI,CAACgB,OAFD;IAGbJ,IAAI,EAAEZ,IAAI,CAACY;EAHE,CAAf,CAFF;AAQD;;AAED,SAASlB,cAAT,EAAyBa,OAAzB,EAAkCM,cAAlC,EAAkDE,eAAlD"},"metadata":{},"sourceType":"module"}